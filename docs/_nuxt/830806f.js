(window.webpackJsonp=window.webpackJsonp||[]).push([[6,2,3,4,5],{407:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(10),o=(r(61),r(108)),c=r(408);function d(){var t=Object(o.f)().$axios;function e(){return(e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),o=n.buildUrlQuery,d=o("/notes",r),e.prev=2,e.next=5,t.$get(d);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),new Error("Failed to fetch notes");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function r(){return(r=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$post("/notes",r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Failed to create notes");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$patch("/notes/".concat(r.id),r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Failed to create notes");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function l(){return(l=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$delete("/notes/".concat(r.id));case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Failed to create notes");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return{getNotes:function(t){return e.apply(this,arguments)},createNote:function(t){return r.apply(this,arguments)},updateNote:function(t){return d.apply(this,arguments)},deleteNote:function(t){return l.apply(this,arguments)}}}},408:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(46),r(109),r(52),r(51);function n(){return{buildUrlQuery:function(t,e){if(!e||0===Object.keys(e).length)return t;var r=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&");return"".concat(t,"?").concat(r)}}}},409:function(t,e,r){var content=r(415);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(74).default)("8465b1c2",content,!0,{sourceMap:!1})},410:function(t,e,r){var content=r(418);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(74).default)("7cb99929",content,!0,{sourceMap:!1})},411:function(t,e,r){var content=r(423);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(74).default)("7df3e1c7",content,!0,{sourceMap:!1})},412:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r(413),r(178);var n=r(133),o=Object(n.c)("notes",{state:function(){return{notes:null}},actions:{setNotes:function(t){this.notes=t},addNoteToStore:function(t){null===this.notes?this.notes=[t]:this.notes.push(t)},deleteNote:function(t){if(null!==this.notes){var e=this.notes.findIndex((function(e){return e.id===t.id}));-1!==e&&this.notes.splice(e,1)}}}})},413:function(t,e,r){"use strict";var n=r(1),o=r(89).findIndex,c=r(177),d="findIndex",l=!0;d in[]&&Array(1)[d]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(d)},414:function(t,e,r){"use strict";r(409)},415:function(t,e,r){var n=r(73)((function(i){return i[1]}));n.push([t.i,"#loader[data-v-142653e2]{left:calc(50% - 20px);top:calc(50% - 20px)}#box[data-v-142653e2],#loader[data-v-142653e2]{position:absolute}#box[data-v-142653e2]{animation:animate-142653e2 .5s linear infinite;background:#0070a4;border-radius:3px;height:50px;left:0;top:0;width:50px}@keyframes animate-142653e2{17%{border-bottom-right-radius:3px}25%{transform:translateY(9px) rotate(22.5deg)}50%{border-bottom-right-radius:40px;transform:translateY(18px) scaleY(.9) rotate(45deg)}75%{transform:translateY(9px) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}#shadow[data-v-142653e2]{animation:shadow-142653e2 .5s linear infinite;background:#000;border-radius:50%;height:5px;left:0;opacity:.1;position:absolute;top:59px;width:50px}@keyframes shadow-142653e2{50%{transform:scaleX(1.2)}}",""]),n.locals={},t.exports=n},416:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik00IDcuMDAwMDVMMTAuMiAxMS42NUMxMS4yNjY3IDEyLjQ1IDEyLjczMzMgMTIuNDUgMTMuOCAxMS42NUwyMCA3IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cmVjdCB4PSIzIiB5PSI1IiB3aWR0aD0iMTgiIGhlaWdodD0iMTQiIHJ4PSIyIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+DQo8L3N2Zz4="},417:function(t,e,r){"use strict";r(410)},418:function(t,e,r){var n=r(73)((function(i){return i[1]}));n.push([t.i,"#metadata{background-color:#fff;border-radius:12px;margin-bottom:24px;padding:8px 12px;text-align:left}#metadata>*{margin:0}#metadata .header{align-items:center;display:flex;font-size:16px;font-weight:700;gap:5px;line-height:1;margin-bottom:5px}#metadata .header img{max-width:20px}#metadata .subject,#metadata .to{font-size:12px}#metadata .to{color:#515151}",""]),n.locals={},t.exports=n},419:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KDQo8IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCg0KPHRpdGxlLz4NCg0KPGcgaWQ9IkNvbXBsZXRlIj4NCg0KPGcgaWQ9ImFkZC1zcXVhcmUiPg0KDQo8Zz4NCg0KPHJlY3QgZGF0YS1uYW1lPSItLVJlY3RhbmdsZSIgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMCIgaWQ9Il8tLVJlY3RhbmdsZSIgcng9IjIiIHJ5PSIyIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiB3aWR0aD0iMjAiIHg9IjIiIHk9IjIiLz4NCg0KPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgeDE9IjE1LjUiIHgyPSI4LjUiIHkxPSIxMiIgeTI9IjEyIi8+DQoNCjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUuNSIgeTI9IjguNSIvPg0KDQo8L2c+DQoNCjwvZz4NCg0KPC9nPg0KDQo8L3N2Zz4="},420:function(t,e,r){t.exports=r.p+"img/save.60c6948.svg"},421:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xNi4xOSAySDcuODFDNC4xNyAyIDIgNC4xNyAyIDcuODFWMTYuMThDMiAxOS44MyA0LjE3IDIyIDcuODEgMjJIMTYuMThDMTkuODIgMjIgMjEuOTkgMTkuODMgMjEuOTkgMTYuMTlWNy44MUMyMiA0LjE3IDE5LjgzIDIgMTYuMTkgMlpNMTMuOTIgMTYuMTNIOUM4LjU5IDE2LjEzIDguMjUgMTUuNzkgOC4yNSAxNS4zOEM4LjI1IDE0Ljk3IDguNTkgMTQuNjMgOSAxNC42M0gxMy45MkMxNS4yIDE0LjYzIDE2LjI1IDEzLjU5IDE2LjI1IDEyLjNDMTYuMjUgMTEuMDEgMTUuMjEgOS45NyAxMy45MiA5Ljk3SDguODVMOS4xMSAxMC4yM0M5LjQgMTAuNTMgOS40IDExIDkuMSAxMS4zQzguOTUgMTEuNDUgOC43NiAxMS41MiA4LjU3IDExLjUyQzguMzggMTEuNTIgOC4xOSAxMS40NSA4LjA0IDExLjNMNi40NyA5LjcyQzYuMTggOS40MyA2LjE4IDguOTUgNi40NyA4LjY2TDguMDQgNy4wOUM4LjMzIDYuOCA4LjgxIDYuOCA5LjEgNy4wOUM5LjM5IDcuMzggOS4zOSA3Ljg2IDkuMSA4LjE1TDguNzcgOC40OEgxMy45MkMxNi4wMyA4LjQ4IDE3Ljc1IDEwLjIgMTcuNzUgMTIuMzFDMTcuNzUgMTQuNDIgMTYuMDMgMTYuMTMgMTMuOTIgMTYuMTNaIiBmaWxsPSIjMjkyRDMyIi8+DQo8L3N2Zz4="},422:function(t,e,r){"use strict";r(411)},423:function(t,e,r){var n=r(73)((function(i){return i[1]}));n.push([t.i,"form#add-note-form .actions #add-trigger,form#add-note-form .actions #save-trigger{align-items:center;background-color:#fab247;border-radius:5px;display:inline-flex;font-size:12px;gap:5px;padding:5px 10px}form#add-note-form .actions #add-trigger:hover,form#add-note-form .actions #save-trigger:hover{cursor:pointer;opacity:.8}form#add-note-form .actions #add-trigger.active,form#add-note-form .actions #save-trigger.active{opacity:.4}form#add-note-form .actions #add-trigger img,form#add-note-form .actions #save-trigger img{height:20px;opacity:1;width:20px}form#add-note-form .actions #save-trigger{background-color:#fff;outline:1px solid #b4d2d2}form#add-note-form .actions #add-trigger .floating{background-color:red;border-radius:6px;padding:5px;position:fixed;top:0}form#add-note-form .textarea-wrapper{position:relative}form#add-note-form .textarea-wrapper textarea{display:none;overflow:hidden;padding-right:40px;resize:none}form#add-note-form .textarea-wrapper textarea.active{display:block}form#add-note-form .textarea-wrapper img{height:26px;opacity:.4;padding:2px;position:absolute;right:15px;top:15px;width:26px}form#add-note-form .textarea-wrapper img:hover{cursor:pointer;opacity:1}",""]),n.locals={},t.exports=n},425:function(t,e,r){var content=r(436);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(74).default)("2b6c9f43",content,!0,{sourceMap:!1})},426:function(t,e,r){"use strict";r.r(e);r(47);var n=r(0),o=Object(n.defineComponent)({props:{metadata:{type:Object,required:!0}}}),c=(r(417),r(37)),component=Object(c.a)(o,(function(){var t,e=this,n=e._self._c;e._self._setupProxy;return n("div",{attrs:{id:"metadata"}},[n("h5",{staticClass:"header"},[n("img",{attrs:{src:r(416),alt:"Sender name"}}),e._v(" "),n("span",[e._v("\n      "+e._s(null===(t=e.metadata.sender)||void 0===t?void 0:t.name)+"\n    ")])]),e._v(" "),n("div",{staticClass:"subject"},[e._v("\n    "+e._s(e.metadata.subject)+"\n  ")]),e._v(" "),n("div",{staticClass:"to"},[n("span",[e._v("To: "+e._s(e.metadata&&e.metadata.to&&e.metadata.to[0]?e.metadata.to[0].name:""))])])])}),[],!1,null,null,null);e.default=component.exports},427:function(t,e,r){"use strict";r.r(e);r(46),r(38),r(48),r(15),r(62),r(39),r(63);var n=r(32),o=r(10),c=(r(61),r(0)),d=r(108),l=r(407);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=Object(c.defineComponent)({props:{note:{type:Object,required:!0}},setup:function(t){var e=Object(d.d)(t.note.text),r=Object(d.d)(t.note.text),n=Object(l.a)().updateNote,c=function(){var c=Object(o.a)(regeneratorRuntime.mark((function o(c){var d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(c.preventDefault(),r.value!==e.value){o.next=3;break}return o.abrupt("return");case 3:return d=m(m({},t.note),{},{text:e.value}),o.next=6,n(d);case 6:r.value=e.value;case 7:case"end":return o.stop()}}),o)})));return function(t){return c.apply(this,arguments)}}();return{noteText:e,submitForm:c}}}),I=f,x=r(37),component=Object(x.a)(I,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("form",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.noteText,expression:"noteText"}],attrs:{rows:"4",cols:"50"},domProps:{value:t.noteText},on:{blur:t.submitForm,input:function(e){e.target.composing||(t.noteText=e.target.value)}}})])}),[],!1,null,null,null);e.default=component.exports},428:function(t,e,r){"use strict";r.r(e);var n=r(10),o=(r(61),r(0)),c=r(108),d=r(407),l=r(412),v=Object(o.defineComponent)({props:{email:{type:Object,required:!0}},setup:function(t){var e=Object(c.d)(""),r=Object(d.a)().createNote,o=Object(l.a)(),v=function(){var c=Object(n.a)(regeneratorRuntime.mark((function n(c){var d,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),""!==e.value){n.next=4;break}return m.value=!1,n.abrupt("return",!1);case 4:return d={text:e.value,context:{message_id:t.email.identifiers.message_id}},n.next=7,r(d);case 7:l=n.sent,o.addNoteToStore(l),e.value="",m.value=!1;case 11:case"end":return n.stop()}}),n)})));return function(t){return c.apply(this,arguments)}}(),m=Object(c.d)(!1),f=function(){var textarea=document.querySelector("#add-note-form textarea");textarea&&(textarea.style.height="auto",textarea.style.height=textarea.scrollHeight+"px")};Object(c.c)((function(){var textarea=document.querySelector("#add-note-form textarea");textarea&&textarea.addEventListener("input",f)}));return{noteText:e,submitForm:v,addFormActive:m,autoExpandTextarea:f,discardNote:function(){e.value="",m.value=!1}}}}),m=v,f=(r(422),r(37)),component=Object(f.a)(m,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("form",{attrs:{id:"add-note-form"}},[e("div",{staticClass:"actions"},[t.addFormActive?e("div",{attrs:{id:"save-trigger"}},[e("img",{attrs:{src:r(420),alt:"Add note",role:"presentation",focusable:"false"}}),t._v("\n      Save\n    ")]):e("div",{class:{active:t.addFormActive},attrs:{id:"add-trigger"},on:{click:function(e){t.addFormActive=!t.addFormActive}}},[e("img",{attrs:{src:r(419),alt:"Add note",role:"presentation",focusable:"false"}}),t._v("\n      Add a note\n      "),e("div",{staticClass:"floating"},[t._v("Oye!")])])]),t._v(" "),e("div",{staticClass:"textarea-wrapper"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.noteText,expression:"noteText"}],class:{active:t.addFormActive},attrs:{rows:"1"},domProps:{value:t.noteText},on:{blur:t.submitForm,input:[function(e){e.target.composing||(t.noteText=e.target.value)},t.autoExpandTextarea]}}),t._v(" "),e("img",{attrs:{src:r(421),alt:"Discard note",role:"presentation",focusable:"false"},on:{mousedown:t.discardNote}})])])}),[],!1,null,null,null);e.default=component.exports},429:function(t,e,r){"use strict";r.r(e);r(414);var n=r(37),component=Object(n.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{attrs:{id:"loader"}},[t("div",{attrs:{id:"shadow"}}),this._v(" "),t("div",{attrs:{id:"box"}})])}],!1,null,"142653e2",null);e.default=component.exports},433:function(t,e,r){t.exports=r.p+"img/outlook.f9ad433.svg"},434:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMCAxMVYxNyIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTE0IDExVjE3IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBkPSJNNCA3SDIwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBkPSJNNiA3SDEySDE4VjE4QzE4IDE5LjY1NjkgMTYuNjU2OSAyMSAxNSAyMUg5QzcuMzQzMTUgMjEgNiAxOS42NTY5IDYgMThWN1oiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjxwYXRoIGQ9Ik05IDVDOSAzLjg5NTQzIDkuODk1NDMgMyAxMSAzSDEzQzE0LjEwNDYgMyAxNSAzLjg5NTQzIDE1IDVWN0g5VjVaIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8L3N2Zz4="},435:function(t,e,r){"use strict";r(425)},436:function(t,e,r){var n=r(73)((function(i){return i[1]}));n.push([t.i,".note[data-v-4c98ed2e]{margin:10px auto;position:relative}.note img[data-v-4c98ed2e]{height:20px;opacity:.4;position:absolute;right:20px;top:20px;width:20px}.note img[data-v-4c98ed2e]:hover{cursor:pointer;opacity:1}.card a[data-v-4c98ed2e]{border-radius:10px;padding:8px 60px}.card a[data-v-4c98ed2e]:hover{opacity:.9}.card a img[data-v-4c98ed2e]{max-width:150px}",""]),n.locals={},t.exports=n},437:function(t,e,r){"use strict";r.r(e);var n=r(10),o=(r(61),r(108)),c=r(407),d=r(408);var l=r(412),v=Object(o.a)({name:"IndexPage",layout:"simple",setup:function(){var t=Object(o.d)(!1),e=Object(o.d)(!0),r=Object(o.d)(null),v=Object(o.d)(null),m=Object(l.a)();window.Office.onReady((function(){var t,n,o,c,d,l,v;void 0!==(null===(o=null===(n=null===(t=null===window||void 0===window?void 0:window.Office)||void 0===t?void 0:t.context)||void 0===n?void 0:n.mailbox)||void 0===o?void 0:o.item)&&(e.value=!0),void 0!==(null===(v=null===(l=null===(d=null===(c=null===window||void 0===window?void 0:window.Office)||void 0===c?void 0:c.context)||void 0===d?void 0:d.mailbox)||void 0===l?void 0:l.item)||void 0===v?void 0:v.internetMessageId)&&(r.value=window.Office.context.mailbox.item.internetMessageId)}));var f=function(){var t=Object(o.f)().$axios;function e(){return(e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)(),o=n.buildUrlQuery,c=o("/emails",r),e.prev=2,e.next=5,t.$get(c);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),new Error("Failed to fetch emails");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function r(){return(r=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$get("/emails/".concat(r));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Failed to fetch notes");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return{getEmail:function(t){return r.apply(this,arguments)},getEmails:function(t){return e.apply(this,arguments)}}}(),I=f.getEmail,x=Object(c.a)(),M=x.getNotes,y=x.deleteNote;Object(o.g)(r,function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r){e.next=9;break}return t.value=!0,e.next=4,j();case 4:return e.next=6,I(r);case 6:n=e.sent,v.value=n,t.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.value="<wvu9686666c6upp4k2a7@convertkit-mail2.com>";var w=Object(o.d)(m.notes),j=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.value){t.next=3;break}return w.value=[],t.abrupt("return");case 3:return e={"message_ids[]":r.value},t.prev=4,t.next=7,M(e);case 7:n=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),n=[];case 13:m.setNotes(n),w.value=n;case 15:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:t.sent&&(m.deleteNote(e),w.value=m.notes||[]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{activeEmail:v,notes:w,handleDeleteNote:h,isLoading:t,isOutlookContext:e,emailMetaObj:{subject:"When Being Lazy Pays Off in HTML ",sender:{contact_id:"123",name:"Design.dev"},to:[{contact_id:"123123",name:"Moconauta"}]}}}}),m=v,f=(r(435),r(37)),component=Object(f.a)(m,(function(){var t,e=this,n=e._self._c;e._self._setupProxy;return e.isLoading?n("LoadingWrapper"):e.isOutlookContext?n("div",{staticClass:"page-root"},[null!==e.activeEmail?[n("EmailMetadata",{attrs:{metadata:e.emailMetaObj}}),e._v(" "),0===(null===(t=e.notes)||void 0===t?void 0:t.length)?n("div",[n("div",{staticClass:"card"},[n("h2",[e._v("You have no notes yet. Why not add one now?")])])]):e._l(e.notes,(function(t){return n("div",{key:t.id,staticClass:"note"},[n("EditNoteForm",{attrs:{note:t}}),e._v(" "),n("img",{attrs:{src:r(434),alt:"Delete note",role:"presentation",focusable:"false"},on:{click:function(r){return e.handleDeleteNote(t)}}})],1)})),e._v(" "),n("AddNoteForm",{attrs:{email:e.activeEmail}})]:e._e()],2):n("div",[n("div",{staticClass:"card"},[n("a",{attrs:{href:"https://www.outlook.com"}},[n("img",{attrs:{src:r(433),alt:"MailNotes"}})]),e._v(" "),n("h2",[e._v("Ooops... Please, try loading this add-in on Microsoft Outlook.")]),e._v(" "),n("a",{attrs:{href:"https://www.outlook.com"}},[e._v("\n      Open Outlook\n    ")])])])}),[],!1,null,"4c98ed2e",null);e.default=component.exports;installComponents(component,{LoadingWrapper:r(429).default,EmailMetadata:r(426).default,EditNoteForm:r(427).default,AddNoteForm:r(428).default})}}]);